{"name":"Buttafly","tagline":"Import csv rows to your Rails application, and create correctly associated database objects.","body":"     _           _   _         __ _       \r\n    | |__  _   _| |_| |_ __ _ / _| |_   _ \r\n    | '_ \\| | | | __| __/ _` | |_| | | | |\r\n    | |_) | |_| | |_| || (_| |  _| | |_| |\r\n    |_.__/ \\__,_|\\__|\\__\\__,_|_| |_|\\__, |\r\n                                    |___/ \r\n\r\n\r\n# Buttafly\r\n\r\nButtafly is a [Rails engine](http://guides.rubyonrails.org/engines.html). Once bolted onto your rails application, it allows you to manage bulk imports of real data from spreadsheets into your Rails application, complete with the correct associations. \r\n\r\n## Example\r\n\r\nLet us say that your app tracks information on wineries and that: \r\n\r\n1. Each __winery__ *has many* __wines__ that have been produced under its imprimatur in a number of different vintages.\r\n2. Each __wine__ axiomatically *belongs to* a __winery__, and also *has many* __reviews__ written about it.\r\n3. Each wine __review__ *belongs to* both the __wine__ of which it is a subject, and to the __reviewer__ who wrote it. \r\n\r\nYour model associatons might look like this:\r\n\r\n```ruby\r\n# in app/models/winery.rb\r\n\r\nhas_many :wines\r\n```\r\n```ruby\r\n# in app/models/wine.rb\r\n\r\nhas_many :reviews\r\nbelongs_to :winery\r\n\r\nvalidates :winery, presence: true\r\n```\r\n```ruby\r\n# in app/models/review.rb\r\n\r\nbelongs_to :wine\r\nbelongs_to :reviewer, class_name: \"User\"\r\n\r\nvalidates :reviewer, :wine, presence: true\r\n```\r\n```ruby\r\n# in app/models/user.rb\r\n\r\nhas_many :reviews, foreign_key: :reviewer_id\r\n```\r\n\r\nLet us also say that you have entered into an arrangement with an infamous wine critic, in which she has agreed to let you publish some of her reviews. She isn't willing to recreate the reviews in your app by hand, but she has condescended to provide you a spreadsheet which might look something like this:\r\n\r\n| Winery name           | Wine name     | Vintage | Rating  | Review  |\r\n| --------------        |---------------|--------:|-------- |---------| \r\n| Ernie & Julio Gallows | chenin blanc  | 2009    | 82      | Egocentric yet oxymoronically fleshy Chenin Blanc. Shows bug spray, middle-aged raisin, scant pepper. Drink now through never. |\r\n| Charles Shah          | pinot noir    | 2008    | 83      | Nearly matured and corpulent Pinot Noir. Essenses of mint, sad dog-breath, perceptable fois gras. Drink now through 2015. |\r\n| Duckhorndog           | semillon      | 2003    | 99      | Overdressed nevertheless complex and stunning Semillon. Shows kalamata olive, hedonistic nectarine, bashful tomato. Drink now through Friday. |\r\n\r\nYou could of course hand the above spreadsheet to an intern, and ask them to navigate your applicaton to create the reviews, wineries, and wineries all by hand. Alternatively you might commission a highly paid Ruby on Rails developer to write a script to do the same thing. But what if this spreadsheet is only the first of many, from different wine critics, each of which will have slightly different headers and columns? \r\n\r\nThis is where Buttafly comes in.\r\n\r\nOnce installed, you can upload a spreadsheet such as the above into a spreadsheet table, which buttafly can then parse. Buttafly knows about your application's models, associations, and validations, and gives you an interface for mapping your spreadsheet columns to attributes in your application's models. For the spreadsheet example above, you would first create a mapping for wineries, then one for wines that belong to those wineries, then users, and then a final mapping for the review which can then be properly associated as belonging to both the user who wrote it and to the wine which is its subject. Once the mappings are created, you can then import the spreadsheet and it will use the mappings to create the correct associated winery, wine, user and review objects. \r\n\r\n\r\n## Getting Started\r\n\r\nAdd buttafly to your Gemfile with the following line:\r\n\r\n```ruby\r\ngem 'buttafly'\r\n```\r\n\r\nThen from the command line:\r\n\r\n```console\r\nbundle install\r\nrake db:migrate\r\n```\r\nTry it in development first by navigating to [localhost:3000/buttafly](localhost:3000/buttafly).\r\n\r\n## Contributing\r\n\r\nAfter cloning the application, bundling its gems, and migrating the database, you can run your tests with guard from the root of the engine itself:\r\n\r\n```console\r\ncd /buttafly\r\nbundle exec guard\r\n```\r\nTo see buttafly running from a dummy app, \r\n\r\n```console\r\ncd /buttafly/test/dummy\r\nbundle exec rails s\r\n```\r\n## License\r\n\r\n[MIT-LICENSE](http://en.wikip edia.org/wiki/MIT_License)","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}